"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function timer(a,b,c){a.show().width("100%"),a.animate({width:0},1e3*b,function(){a.parent().prop("disabled",!1),a.hide(),c()})}function createDatabaseMap(){var a=new Map;return a.set("GitHub",new Achievement("GitHub","github","You've discovered source control software. Repotation incrises",function(){return player.addReputation(57)})),a.set("Linux",new Achievement("Linux","linux","You've discovered new operating system. Repotation incrises",function(){return player.addReputation(17)})),a.set("200$",new Achievement("First Money","money","You've saved some money. Repotation incrises ",function(){return player.addReputation(107)})),a.set("Clicker",new Achievement("Clicker","bolt","You are in the flow. Repotation incrises ",function(){return player.addReputation(107)})),a.set("Photoshop",new Achievement("Photoshop","photo","You've started earning money. Repotation incrises ",function(){return player.addReputation(107)})),a}function unlockAchievementUsingClass(a){var b=achievementsFromFunction.get(a);achievements_popUp.find("h2").html(b.name),achievements_popUp.find("p").html(b.description);var c=$("<i />",{class:"fa fa-"+b.icon});console.log(c),achievements_popUp.prepend(c),achievements_popUp.show(),b.reward()}var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Player=function(){function a(b){_classCallCheck(this,a),this.name=b||"Player",this.experience=0,this.level=0,this.money=100,this.reputation=0,this.coding=0,this.art=0,this.music=0,this.design=0,this.clickCounter=0}return _createClass(a,[{key:"addExperience",value:function(a){var b=$("#experience_bar"),c=b.attr("aria-valuemax");this.experience+=a,this.experience>=100+10*this.level+this.level*this.level*5&&(this.experience-=100+10*this.level+this.level*this.level*5,this.level++,$("#level_span").html(this.level),c=100+10*this.level+this.level*this.level*5,b.attr("aria-valuemax",c),2==this.level?unlockAchievementUsingClass("GitHub"):3==this.level&&unlockAchievementUsingClass("Linux"));var d=this.experience/c*100;b.css("width",d+"%").attr("aria-valuenow",this.experience)}},{key:"addReputation",value:function(a){this.reputation+=a,$("#profile").find("#reputation_span").html(this.reputation)}},{key:"addSkillPoints",value:function(a,b){var c=$("#"+b),d=100,e=!1;switch(b){case"coding":this.coding+=a,this.coding>=d&&(this.coding-=d,this.addExperience(15));var f=this.coding/d*100;c.css("width",f+"%").attr("aria-valuenow",this.coding);break;case"art":this.art+=a,this.art>=d&&(this.art-=d,this.addExperience(15),e||(unlockAchievementUsingClass("Photoshop"),e=!0));var g=this.art/d*100;c.css("width",g+"%").attr("aria-valuenow",this.art);break;case"music":this.music+=a,this.music>=d&&(this.music-=d,this.addExperience(15));var h=this.music/d*100;c.css("width",h+"%").attr("aria-valuenow",this.music);break;case"design":this.design+=a,this.design>=d&&(this.design-=d,this.addExperience(15));var i=this.design/d*100;c.css("width",i+"%").attr("aria-valuenow",this.design)}}},{key:"newName",set:function(a){this.name=a}}]),a}(),player=new Player,_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Achievement=function(){function a(b,c,d,e){_classCallCheck(this,a),this._name=b,this._icon=c,this._description=d,this._reward=e}return _createClass(a,[{key:"reward",value:function(){this._reward()}},{key:"name",get:function(){return this._name}},{key:"icon",get:function(){return this._icon}},{key:"description",get:function(){return this._description}},{key:"reward",get:function(){return this._reward}}]),a}(),achievementsFromFunction=createDatabaseMap(),achievements_popUp=$("#achievements-popUp"),achievements_panel=$("#achievements");$(function(){$("#buttons ul.options").hide(),$(".selector").click(function(){$(this).parent().find(".options").slideToggle()}),$(".options .btn-outline-info").click(function(){var a=$(this),b=a.data("price");if(b){if(b>player.money)return void a.parent().find("p").show().delay(3e3).fadeOut();player.money-=b,$("#profile").find("#money_span").html(player.money)}var c=$(this).closest(".options"),d=c.parent().find(".selector");d.prop("disabled",!0),c.slideToggle();var e=a.data("type"),f=a.data("experience");player.clickCounter++,10==player.clickCounter&&unlockAchievementUsingClass("Clicker");var g=function(){player.addExperience(f),player.addSkillPoints(f,e),a.data("reputation")>0&&player.addReputation(a.data("reputation"));var b=a.data("income");b&&(player.money+=b,player.money>200&&unlockAchievementUsingClass("$200"),$("#profile").find("#money_span").html(player.money))};timer(d.find("div"),$(this).data("time"),g)}),$(".options .btn-outline-info").hover(function(){$(this).parent().find("span").css("visibility","visible")},function(){$(this).parent().find("span").css("visibility","hidden")}),$("#welcome").submit(function(a){a.preventDefault(),player.name=$("#name").val()||"Player",$("#profile").find("#playerName").html(player.name),$("#welcome").hide("slow")}),$("#achievements-popUp").submit(function(a){a.preventDefault(),$("#achievements-popUp").hide("slow");var b=achievements_popUp.find("i");achievements_panel.append(b)}),$("#shop").find("i").click(function(){var a=$(this),b=a.data("price");if(b){if(b>player.money)return void a.find("a").tooltip("show");player.money-=b,$("#profile").find("#money_span").html(player.money),a.hide("slow")}}),$("#shop").find("i").mouseleave(function(){$(this).find("a").tooltip("hide")})});